(()=>{"use strict";var t=function(){return{step:0,end:-1,translateSteps:[],translateX:function(t){this.$refs.navList.style.transform="translateX(-".concat(t,"px)")},onNext:function(){var t=this.translateSteps[this.step];this.step+=1,this.translateX(t)},onPrev:function(){this.step-=1;var t=this.translateSteps[this.step]-200;this.translateX(t)},get isStart(){return 0===this.step},get isEnd(){return this.step===this.end},init:function(){var t=this.$refs.navList.scrollWidth-this.$refs.navList.parentElement.offsetWidth;this.end=Math.ceil(t/200);for(var e=1;e<this.end;e++)this.translateSteps.push(200*e);this.translateSteps.push(t)}}};function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=window.matchMedia("(min-width: 991px)");function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){return u(u({},function(t){function e(t){var e,r=this;return this.isLoading=!0,fetch(null!==(e=null==t?void 0:t.url)&&void 0!==e?e:"https://studika.ru/api/areas",n({headers:{"Content-Type":"application/json"}},t)).then((function(t){if(!t.ok)throw 404===t.status?new Error("Not found"):new Error("Unexpected error");return t.json()})).then((function(t){return r.data=t,t})).catch((function(t){console.error(t),r.isError=!0})).finally((function(){r.isLoading=!1}))}return{isLoading:!1,isError:!1,data:null,$_get:function(){return e.call(this)},$_post:function(t){return e.call(this,n({method:"POST",body:JSON.stringify(null==t?void 0:t.body)},t))}}}()),{},{open:!1,search:"",currentRegions:"",selectedRegions:new Set,regions:[],init:function(){var t=this;this.setCurrentRegions(),document.addEventListener("click",(function(e){return t.toggle(e)}))},selectRegion:function(t){var e=this.selectedRegions.has(t)?"delete":"add";this.selectedRegions[e](t)},changeCurrentRegions:function(){var t=o(this.selectedRegions).join(", ");t!==this.currentRegions&&(this.currentRegions=t,this.setCookiesRegions(t))},setCurrentRegions:function(){var t=this.cookiesRegions;t&&(this.currentRegions=t,this.selectedRegions=new Set(t.split(", ")))},setCookiesRegions:function(t){window.Cookies.set("regions",t)},toggle:function(t){var e=t.target,n=this.$refs,r=n.regionSearch,i=n.chooseRegionBtn,o=n.burger;if(this.open){if(r.contains(e))return;this.$refs.regionSearch.contains(e)||(this.open=!1)}else(i.contains(e)||o.contains(e))&&(this.open=!0,this.fetchRegions())},isSearchedRegions:function(t){return!this.search||this.search&&t.toLowerCase().startsWith(this.search.toLowerCase())},fetchRegions:(t=function(){var t=this;this.open&&this.$_post().then((function(e){var n,r=[],a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e);try{var c=function(){var t=n.value;if(r.push(t),"area"===t.type){var e=t.cities.map((function(e){return u(u({},e),{},{areaName:t.name})}));r.push.apply(r,o(e))}};for(a.s();!(n=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}var l=setInterval((function(){var e,n=r.splice(0,50);n.length||clearInterval(l),(e=t.regions).push.apply(e,o(n)),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#scroll-container";if(i.matches){var e=document.querySelector(t);e&&window.SimpleScrollbar&&window.SimpleScrollbar.initEl(e)}}()}),10)}))},function(){if(t){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(this,n),t=null}}),get cookiesRegions(){return window.Cookies.get("regions")}});var t};console.log("main.js"),document.addEventListener("alpine:init",(function(){window.Alpine.data("regionsData",f),window.Alpine.data("navData",t),window.Alpine.directive("scale",(function(t){t.style.cssText="\n\t\t\ttransform: scale(0.9);\n\t\t\ttransition: transform 0.1s;\n\t\t",window.Alpine.nextTick((function(){t.style.cssText+="\n\t\t\t\ttransform: scale(1);\n\t\t\t"}))}))}))})();